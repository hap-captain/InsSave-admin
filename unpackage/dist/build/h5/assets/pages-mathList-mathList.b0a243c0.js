import{V as e,S as a,f as t,g as l,o as n,c as s,w as i,j as d,m as u,d as o,t as c,q as r,s as h,F as g,e as f,I as _,N as p,B as m}from"./vendor.8a7e56dc.js";import{_ as b,d as C,e as y,f as D,h as k}from"./index.756c4e22.js";import{_ as w}from"./uni-pagination.7b89d6b3.js";var x=b({data:()=>({searchVal:"",tableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1,bar:0}),onLoad(){this.selectedIndexs=[],this.getData(1,0)},methods:{selectedItems(){return this.selectedIndexs.map((e=>this.tableData[e]))},selectionChange(e){console.log(e.detail.index),this.selectedIndexs=e.detail.index},delTable(){console.log(this.selectedItems())},change(e){this.getData(e.current)},search(){this.getData(1,this.searchVal)},getData(a,t,l){this.bar=t,this.loading=!0,this.pageCurrent=a;e.database().collection("mathList").where({status:l}).get().then((e=>{this.tableData=e.result.data,this.total=e.result.data.length,this.loading=!1}))},toDetailPage(e){a({url:"detailPage/detailPage?id="+e})}}},[["render",function(e,a,b,x,V,I){const z=f,v=_,S=p,j=t(l("uni-th"),C),P=t(l("uni-tr"),y),T=t(l("uni-td"),D),$=t(l("uni-table"),k),q=t(l("uni-pagination"),w);return n(),s(z,null,{default:i((()=>[d(z,{class:"uni-header"},{default:i((()=>[d(z,{class:"uni-group hide-on-phone"},{default:i((()=>[d(z,{class:"",onClick:a[0]||(a[0]=e=>I.getData(1,0))},{default:i((()=>[d(z,{class:"uni-title"},{default:i((()=>[u("全部事件")])),_:1}),0==V.bar?(n(),s(z,{key:0,class:"line"})):o("",!0)])),_:1}),d(z,{class:"",onClick:a[1]||(a[1]=e=>I.getData(1,1,"待处理"))},{default:i((()=>[d(z,{class:"uni-title"},{default:i((()=>[u("待处理")])),_:1}),1==V.bar?(n(),s(z,{key:0,class:"line"})):o("",!0)])),_:1}),d(z,{class:"",onClick:a[2]||(a[2]=e=>I.getData(1,2,"处理中"))},{default:i((()=>[d(z,{class:"uni-title"},{default:i((()=>[u("处理中")])),_:1}),2==V.bar?(n(),s(z,{key:0,class:"line"})):o("",!0)])),_:1}),d(z,{class:"",onClick:a[3]||(a[3]=e=>I.getData(1,3,"已完成"))},{default:i((()=>[d(z,{class:"uni-title"},{default:i((()=>[u("已完成")])),_:1}),3==V.bar?(n(),s(z,{key:0,class:"line"})):o("",!0)])),_:1})])),_:1}),d(z,{class:"uni-group"},{default:i((()=>[d(v,{class:"uni-search",type:"text",modelValue:V.searchVal,"onUpdate:modelValue":a[4]||(a[4]=e=>V.searchVal=e),onConfirm:I.search,placeholder:e.$t("common.placeholder.query")},null,8,["modelValue","onConfirm","placeholder"]),d(S,{class:"uni-button",type:"default",size:"mini",onClick:I.search},{default:i((()=>[u(c(e.$t("common.button.search")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),d(z,{class:"uni-container"},{default:i((()=>[d($,{loading:V.loading,border:"",stripe:"",type:"selection",emptyText:e.$t("common.empty"),onSelectionChange:I.selectionChange},{default:i((()=>[d(P,null,{default:i((()=>[d(j,{width:"150",align:"center"},{default:i((()=>[u("日期")])),_:1}),d(j,{width:"150",align:"center"},{default:i((()=>[u("事件类型")])),_:1}),d(j,{align:"center"},{default:i((()=>[u("经纬坐标")])),_:1}),d(j,{width:"204",align:"center"},{default:i((()=>[u("求救者")])),_:1}),d(j,{width:"204",align:"center"},{default:i((()=>[u("救援负责人")])),_:1}),d(j,{width:"204",align:"center"},{default:i((()=>[u("所在区域")])),_:1}),d(j,{width:"100",align:"center"},{default:i((()=>[u("现场采集")])),_:1}),d(j,{width:"204",align:"center"},{default:i((()=>[u("状态")])),_:1}),d(j,{width:"204",align:"center"},{default:i((()=>[u("操作")])),_:1})])),_:1}),(n(!0),r(g,null,h(V.tableData,((e,a)=>(n(),s(P,{key:a},{default:i((()=>[d(T,null,{default:i((()=>[u(c(e.date),1)])),_:2},1024),d(T,null,{default:i((()=>[d(z,{class:"name"},{default:i((()=>[u(c(e.type),1)])),_:2},1024)])),_:2},1024),d(T,null,{default:i((()=>[u(c(e.latitude)+","+c(e.longitude),1)])),_:2},1024),d(T,null,{default:i((()=>[u(c(e.name),1)])),_:2},1024),d(T,null,{default:i((()=>[u(c(e.saverName),1)])),_:2},1024),d(T,null,{default:i((()=>[u(c(e.address),1)])),_:2},1024),d(T,{style:{color:"red"}},{default:i((()=>[m("a",{href:e.video},"查看",8,["href"])])),_:2},1024),d(T,null,{default:i((()=>[u(c(e.status),1)])),_:2},1024),d(T,null,{default:i((()=>[d(z,{class:"uni-group"},{default:i((()=>[d(S,{class:"uni-button",size:"mini",type:"primary",onClick:a=>I.toDetailPage(e._id)},{default:i((()=>[u("查看")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["loading","emptyText","onSelectionChange"]),d(z,{class:"uni-pagination-box"},{default:i((()=>[d(q,{"show-icon":"","page-size":V.pageSize,current:V.pageCurrent,total:V.total,onChange:I.change},null,8,["page-size","current","total","onChange"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-946ab12c"]]);export{x as default};
