import{V as e,E as a,S as t,f as l,g as o,o as d,c as s,w as n,j as i,m as u,t as r,N as p,D as m,e as h}from"./vendor.8a7e56dc.js";import{_ as c}from"./uni-easyinput.9b1df50f.js";import{_ as b,a as f,b as _}from"./index.756c4e22.js";const y=e.database();var V=b({data:()=>({peopleId:"",name:"",address:"",phone:"",type:"",id:""}),onLoad(e){this.id=e.id,this.getData(this.id)},methods:{getData(e){y.collection("peopleList").doc(e).get().then((e=>{this.peopleId=e.result.data[0].peopleId,this.name=e.result.data[0].name,this.address=e.result.data[0].address,this.phone=e.result.data[0].phone,this.type=e.result.data[0].type}))},submit(){y.collection("peopleList").doc(this.id).update({peopleId:this.peopleId,name:this.name,address:this.address,phone:this.phone,type:this.type}).then((e=>{a({title:"修改成功",duration:2e3})})),setTimeout((function(){t({url:"peoplePage"})}),2e3)}}},[["render",function(e,a,t,b,y,V){const g=l(o("uni-easyinput"),c),I=l(o("uni-forms-item"),f),x=p,q=m,U=h,j=l(o("uni-forms"),_);return d(),s(U,{class:"uni-container"},{default:n((()=>[i(j,{ref:"form",validateTrigger:"bind"},{default:n((()=>[i(I,{name:"role_id",label:"救援工作证号",required:""},{default:n((()=>[i(g,{placeholder:"救援人员唯一标识，不可修改，不允许重复",modelValue:y.peopleId,"onUpdate:modelValue":a[0]||(a[0]=e=>y.peopleId=e),trim:"both"},null,8,["modelValue"])])),_:1}),i(I,{name:"role_name",label:"姓名",required:""},{default:n((()=>[i(g,{placeholder:"救援队员的姓名",modelValue:y.name,"onUpdate:modelValue":a[1]||(a[1]=e=>y.name=e),trim:"both"},null,8,["modelValue"])])),_:1}),i(I,{name:"role_name",label:"负责区域",required:""},{default:n((()=>[i(g,{placeholder:"救援队员负责的区域",modelValue:y.address,"onUpdate:modelValue":a[2]||(a[2]=e=>y.address=e),trim:"both"},null,8,["modelValue"])])),_:1}),i(I,{name:"mobile",label:"手机号",required:""},{default:n((()=>[i(g,{clearable:!1,modelValue:y.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>y.phone=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),i(I,{name:"mobile",label:"职位",required:""},{default:n((()=>[i(g,{clearable:!1,modelValue:y.type,"onUpdate:modelValue":a[4]||(a[4]=e=>y.type=e),placeholder:"职位"},null,8,["modelValue"])])),_:1}),i(I,{name:"comment",label:"备注"},{default:n((()=>[i(g,{type:"textarea",placeholder:"备注",trim:"both"})])),_:1}),i(U,{class:"uni-button-group"},{default:n((()=>[i(x,{type:"primary",class:"uni-button",style:{width:"100px"},onClick:V.submit},{default:n((()=>[u(r(e.$t("common.button.submit")),1)])),_:1},8,["onClick"]),i(q,{"open-type":"navigateBack",style:{"margin-left":"15px"}},{default:n((()=>[i(x,{class:"uni-button",style:{width:"100px"}},{default:n((()=>[u(r(e.$t("common.button.back")),1)])),_:1})])),_:1})])),_:1})])),_:1},512)])),_:1})}]]);export{V as default};
